## 设计流程与 EDA 工具

现在的芯片有几十亿个晶体管，人手画图是不可能的。我们需要“方法论”和“工具”。

### 5.1 设计方法论
*   **Top-down (自顶向下)**：**主流方法**。先定义系统功能（写代码），再由工具自动把代码转化成电路门，最后生成版图。就像写软件一样设计硬件。
*   **Bottom-up (自底向上)**：先画基础单元，再拼装。现在主要用于模拟电路或超高性能的定制模块。

### 5.2 数字 IC 设计全流程 (The Flow)
**【核心路径 —— 需背诵】**
这就是一颗芯片诞生的“生产流水线”：

1.  **RTL 设计** (Verilog)：用代码描述功能。
2.  **功能仿真** (Simulation)：跑波形，看逻辑对不对。*(工具: VCS, Modelsim)*
3.  **逻辑综合** (Synthesis)：把代码翻译成具体的门电路网表 (Netlist)。*(工具: Design Compiler)*
4.  **静态时序分析** (STA)：检查电路跑得够不够快，会不会违例。*(工具: PrimeTime)*
5.  **布局布线** (Place & Route)：把门电路放到芯片版图上连线。*(工具: ICC/Innovus)*
6.  **物理验证** (DRC/LVS)：检查版图有没有违反工艺规则。*(工具: Calibre)*
7.  **流片** (Tape-out)：发送数据给制造厂（如台积电）。

---

## 💻 第六章：与硬件对话的语言 —— Verilog 基础

Verilog 不是 C 语言，它是**硬件描述语言 (HDL)**。你需要时刻记住：**你写下的每一行代码，最终都会变成电路。**

### 6.1 核心语法速览
*   **Module**：电路的盒子，有输入输出端口。
*   **Wire**：单纯的连线，不能存数据。
*   **Reg**：寄存器，可以存数据（但在组合逻辑 `always` 块中也用 reg，这只是语法要求，不一定生成物理寄存器）。

### 6.2 阻塞赋值 (=) vs 非阻塞赋值 (<=)
**【新手第一大坑】**
*   **阻塞赋值 (`=`)**：顺序执行，像 C 语言。$\rightarrow$ **用于组合逻辑**。
*   **非阻塞赋值 (`<=`)**：并行执行。所有的赋值在时钟沿到来时同时发生。$\rightarrow$ **用于时序逻辑**。

**【黄金法则】**
> 写时序逻辑（带 `posedge clk`）时，永远用 `<=`！
> 写组合逻辑（`always @(*)`）时，永远用 `=`！

### 6.3 良好的代码风格 (Coding Style)
*   **避免 Latch**：组合逻辑中 `if` 必须配 `else`，`case` 必须配 `default`。
*   **区分复位**：同步复位（依赖时钟） vs 异步复位（不依赖时钟，但需同步释放）。
*   **严禁组合逻辑环路**：输出不能直接绕回来当输入，必须经过触发器。
