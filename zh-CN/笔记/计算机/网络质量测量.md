ping -c 10 10.160.4.200
mtr -rw 10.160.4.200
ping -c 10 www.baidu.com
mtr -rw www.baidu.com
ping -6 -c 4 2400:3200::1
### 🔧 修复 Linux 的三大方案

请回到你的 Linux 系统，依次尝试以下 3 个方案，通常能直接解决问题。

#### 方案一：关闭 Wi-Fi 节能模式（嫌疑最大）
Linux 的无线网卡驱动通常默认开启“省电模式”。这会导致网卡为了省电频繁休眠，导致延迟从 10ms 飙升到 1000ms+。

1.  **查看当前状态：**
    ```bash
    iwconfig
    ```
    看你的无线网卡（比如 `wlp46s0`）后面是否有 `Power Management:on`。

2.  **立刻关闭它：**
    ```bash
    sudo iwconfig wlp46s0 power off
    ```
    *注意：如果提示找不到 iwconfig，请安装 `sudo apt install wireless-tools`。或者把 `wlp46s0` 换成你实际的网卡名。*

3.  **再次测试 Ping：**
    ```bash
    ping -6 -c 4 2400:3200::1
    ```
    **如果延迟瞬间降回 20ms 以内，恭喜你，问题解决了！**

    *(永久生效方法：需修改 `/etc/NetworkManager/conf.d/default-wifi-powersave-on.conf`，将值改为 2)*

#### 方案二：Docker 的干扰（嫌疑第二大）
Docker 的网桥 (`docker0`) 和 IPv6 经常打架，尤其是在路由表上。

1.  **暂时关闭 Docker：**
    ```bash
    sudo systemctl stop docker
    ```
    *或者 `sudo service docker stop`*

2.  **重置网络：**
    ```bash
    sudo nmcli networking off && sudo nmcli networking on
    ```

3.  **测试 Ping：**
    如果 Docker 关掉后 IPv6 就正常了，说明需要修改 Docker 的 `daemon.json` 配置（禁止 Docker 劫持 IPv6 NAT）。

#### 方案三：MTU 问题
有时候 Linux 的包大小设置（MTU）过大，导致包发不出去。

1.  尝试设置 MTU 为 1280（IPv6 的最小值）：
    ```bash
    sudo ip link set dev wlp46s0 mtu 1280
    ```
2.  再次测试 Ping。

---

### 总结
不用怀疑学校的网络了，**Windows 证明了路是通的，车也是好的**。

现在的关键就在 **Linux 的 Wi-Fi 节能设置** 上。去执行**方案一**，大概率能药到病除！